import{u as S,v as R,o as x,e as z,h as b,w as h,f as P,x as O,y as E,z as T,A as M,B as k,p as A,k as I,g as V}from"./index.d2d58ca2.js";import{X as L}from"./request.1d72398d.js";import{d as j}from"./piniastore-data.1bdeeb3a.js";import{_ as H}from"./_plugin-vue_export-helper.cdc0426e.js";/* empty css                                                                 */const X=n=>(A("data-v-d653ba21"),n=n(),I(),n),q={id:"property1",ref:"all"},U=X(()=>P("div",{class:"property1Name"},"\u9875\u9762\u52A0\u8F7D\u65F6\u95F4\u8BE6\u60C5",-1)),Y={__name:"showproperty1",setup(n){j();let p=S(null),u=S(null),c={property1:!1,property2:!1},f="property1";const g=o=>{switch(o){case"property1":getProperty1();case"property2":getProperty2()}};let w={property1:[{time:"2019-11-1 07",FP:0,dom:0,FCP:0},{time:"2019-11-1 08",FP:.65,dom:.42,FCP:.23},{time:"2019-11-1 09",FP:.8,dom:.45,FCP:.22},{time:"2019-11-1 11",FP:0,dom:0,FCP:0}],property2:[{time:"2019-11-1 07:00:00",DNS:0,TCP:0,TTFB:0,trans:0,DOM:0,RES:0},{time:"2019-11-1 08:00:00",DNS:.65,TCP:.42,TTFB:.23,trans:.23,DOM:.23,RES:.23},{time:"2019-11-1 09:00:00",DNS:.8,TCP:.45,TTFB:.22,trans:.22,DOM:.22,RES:.22},{time:"2019-11-1 10:00:00",DNS:.9,TCP:.52,TTFB:.26,trans:.26,DOM:.26,RES:.26},{time:"2019-11-1 11:00:00",DNS:0,TCP:0,TTFB:0,trans:0,DOM:0,RES:0}]};const v=[{fp:167.7,fcp:167.7,lcp:167.8,cls:.7216045186011621,tti:185.19999999552965,domReady:642.1999999955297,load:674.3999999985099,firstByte:42.29999999701977,dns:0,tcp:0,ssl:0,ttfb:28.799999997019768,trans:1.5,domParse:141.39999999850988,res:32.20000000298023,time:"2022-08-12 11:10:05",nt_fp:43.79999999701977},{fp:165.4,fcp:165.4,lcp:165.5,cls:.8597751637826787,tti:122.89999999850988,domReady:645.7000000029802,load:660,firstByte:35.5,dns:0,tcp:0,ssl:0,ttfb:27.100000001490116,trans:1.5,domParse:85.89999999850988,res:14.299999997019768,time:"2022-08-12 13:27:02",nt_fp:37},{fp:122.8,fcp:122.8,lcp:122.8,cls:.22758843511616655,tti:154.29999999701977,domReady:1011.3999999985099,load:1064.5,firstByte:42.100000001490116,dns:0,tcp:0,ssl:0,ttfb:31.400000005960464,trans:1.5999999940395355,domParse:110.60000000149012,res:53.100000001490116,time:"2022-08-12 13:27:44",nt_fp:43.69999999552965},{fp:121.6,fcp:121.6,lcp:121.6,cls:.13133593124358733,tti:153.69999999552965,domReady:812.2999999970198,load:857.8999999985099,firstByte:39.5,dns:0,tcp:0,ssl:0,ttfb:31.80000000447035,trans:1.5999999940395355,domParse:112.60000000149012,res:45.600000001490116,time:"2022-08-12 13:27:55",nt_fp:41.099999994039536},{fp:133.1,fcp:133.1,lcp:133.3,cls:.0987343988534991,tti:159.89999999850988,domReady:792.3999999985099,load:843.6000000014901,firstByte:44.20000000298023,dns:0,tcp:0,ssl:0,ttfb:36.100000001490116,trans:1.6999999955296516,domParse:114,res:51.20000000298023,time:"2022-08-12 13:27:57",nt_fp:45.899999998509884},{fp:124.9,fcp:124.9,lcp:124.9,cls:.14662053741426095,tti:163.09999999403954,domReady:840.5,load:887,firstByte:41.19999999552965,dns:0,tcp:0,ssl:0,ttfb:32.899999998509884,trans:1.5,domParse:120.39999999850988,res:46.5,time:"2022-08-12 13:27:59",nt_fp:42.69999999552965}];function F(o){function t(e){let a=e.getFullYear(),s=e.getMonth(),l=e.getDate(),i=e.getHours();return e.getMinutes(),e.getSeconds(),s<10&&(s="0"+(s+1)),l<10&&(l="0"+l),i<10&&(i="0"+i),console.log(s,"\u83B7\u5F97\u7684hour"),a+"-"+s+"-"+l+" "+i}let d=e=>{let a=e.slice(0,4),s=e.slice(5,7),l=e.slice(8,10),i=e.slice(11,13);return new Date(a,s-1,l,i)},r=d(o[0].time),y=3600*1e3,D=d(t(new Date));const m=[];for(;+r!=+D;)m.push(t(r)),r=new Date(+r+y);const _=new Array(m.length).fill(0);for(const e of o){const a=e.time.slice(0,13),s=m.indexOf(a);s==-1?(m.unshift(a),_.unshift(1)):_[s]++}return{countary:_,dateary:m}}F(v);let N=3600*1e3;function B(){if(c.property1)return;c.property1=!0;let o=T(p.value),t;t={legend:{},tooltip:{trigger:"axis"},xAxis:{type:"time",splitNumber:5,splitLine:{show:!1},interval:N},yAxis:{type:"value",min:0,axisLabel:{formatter:"{value}s"}},series:[{encode:{x:"time",y:"FP",seriesName:"FP"},type:"line",showSymbol:!1},{encode:{x:"time",y:"dom",seriesName:"dom"},type:"line",showSymbol:!1},{encode:{x:"time",y:"FCP",seriesName:"FCP"},type:"line",showSymbol:!1}],dataset:{dimensions:["time","FP","dom","FCP"],source:w.property1}},o.setOption(t)}function C(){if(c.property2)return;c.property2=!0;let o=T(u.value),t;t={legend:{},tooltip:{trigger:"axis"},xAxis:{type:"time",splitNumber:5,splitLine:{show:!1}},yAxis:{type:"value",min:0,axisLabel:{formatter:"{value}s"}},series:[{encode:{x:"time",y:"DNS",seriesName:"DNS"},zlevel:1,z:1,type:"line",showSymbol:!1},{encode:{x:"time",y:"TCP",seriesName:"TCP"},zlevel:2,z:2,type:"line",showSymbol:!1},{encode:{x:"time",y:"TTFB",seriesName:"TTFB"},zlevel:3,z:3,type:"line",showSymbol:!1},{encode:{x:"time",y:"trans",seriesName:"trans"},zlevel:4,z:4,type:"line",showSymbol:!1},{encode:{x:"time",y:"DOM",seriesName:"DOM"},zlevel:5,z:5,type:"line",showSymbol:!1},{encode:{x:"time",y:"RES",seriesName:"RES"},zlevel:6,z:6,type:"line",showSymbol:!1}],dataset:{dimensions:["time","DNS","TTFB","trans","DOM","RES"],source:w.property2}},o.setOption(t)}return R(()=>{B(),C()}),(o,t)=>{const d=M,r=k;return x(),z("div",q,[U,b(r,{type:"border-card",class:"demo-tabs",modelValue:O(f),"onUpdate:modelValue":t[0]||(t[0]=y=>E(f)?f.value=y:f=y),onTabChange:g},{default:h(()=>[b(d,{label:"\u6027\u80FD\u6307\u6807",name:"property1"},{default:h(()=>[P("div",{class:"showproperty",ref_key:"property1",ref:p},"\u7B49\u5F85\u6570\u636E\u52A0\u8F7D",512)]),_:1}),b(d,{label:"\u533A\u95F4\u6BB5\u8017\u65F6",name:"property2"},{default:h(()=>[P("div",{class:"showproperty",ref_key:"property2",ref:u},"\u7B49\u5F85\u6570\u636E\u52A0\u8F7D",512)]),_:1})]),_:1},8,["modelValue"])],512)}}},G=H(Y,[["__scopeId","data-v-d653ba21"]]),ee={__name:"1",setup(n){return L.requestPost("api/data/webVital",{userId:"aa7385b487e84f28a5e43e7574f4f0aa",deviceId:"e20ca6dd21964f99a7d514bc4c1264e1"},p=>{console.log(p)}),(p,u)=>(x(),V(G,{containerHeight:500}))}};export{ee as default};
