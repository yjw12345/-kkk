/* empty css                                                                  */import{_ as N}from"./_plugin-vue_export-helper.cdc0426e.js";import{F as k,u as g,o as B,e as A,f as h,v as x,z as w,D as L,h as T}from"./index.d2d58ca2.js";import{X as F}from"./request.1d72398d.js";import"./piniastore-data.1bdeeb3a.js";const I={id:"property2"},M=k({__name:"showproperty5",setup(R){let u=[{fp:167.7,fcp:167.7,lcp:167.8,cls:.7216045186011621,tti:185.19999999552965,domReady:642.1999999955297,load:674.3999999985099,firstByte:42.29999999701977,dns:0,tcp:0,ssl:0,ttfb:28.799999997019768,trans:1.5,domParse:141.39999999850988,res:32.20000000298023,time:"2022-08-12 13:10:05",nt_fp:43.79999999701977},{fp:165.4,fcp:165.4,lcp:165.5,cls:.8597751637826787,tti:122.89999999850988,domReady:645.7000000029802,load:660,firstByte:35.5,dns:0,tcp:0,ssl:0,ttfb:27.100000001490116,trans:1.5,domParse:85.89999999850988,res:14.299999997019768,time:"2022-08-12 13:27:02",nt_fp:37},{fp:122.8,fcp:122.8,lcp:122.8,cls:.22758843511616655,tti:154.29999999701977,domReady:1011.3999999985099,load:1064.5,firstByte:42.100000001490116,dns:0,tcp:0,ssl:0,ttfb:31.400000005960464,trans:1.5999999940395355,domParse:110.60000000149012,res:53.100000001490116,time:"2022-08-12 13:27:44",nt_fp:43.69999999552965},{fp:121.6,fcp:121.6,lcp:121.6,cls:.13133593124358733,tti:153.69999999552965,domReady:812.2999999970198,load:857.8999999985099,firstByte:39.5,dns:0,tcp:0,ssl:0,ttfb:31.80000000447035,trans:1.5999999940395355,domParse:112.60000000149012,res:45.600000001490116,time:"2022-08-12 13:27:55",nt_fp:41.099999994039536},{fp:133.1,fcp:133.1,lcp:133.3,cls:.0987343988534991,tti:159.89999999850988,domReady:792.3999999985099,load:843.6000000014901,firstByte:44.20000000298023,dns:0,tcp:0,ssl:0,ttfb:36.100000001490116,trans:1.6999999955296516,domParse:114,res:51.20000000298023,time:"2022-08-12 13:27:57",nt_fp:45.899999998509884},{fp:124.9,fcp:124.9,lcp:124.9,cls:.14662053741426095,tti:163.09999999403954,domReady:840.5,load:887,firstByte:41.19999999552965,dns:0,tcp:0,ssl:0,ttfb:32.899999998509884,trans:1.5,domParse:120.39999999850988,res:46.5,time:"2022-08-12 13:27:59",nt_fp:42.69999999552965}];const _=g(null),b=g(null);function v(i,d){function f(e){let o=e.getFullYear(),r=e.getMonth(),n=e.getDate(),l=e.getHours();return e.getMinutes(),e.getSeconds(),r<10&&(r="0"+(r+1)),n<10&&(n="0"+n),l<10&&(l="0"+l),o+"-"+r+"-"+n+" "+l}let c=e=>{let o=e.slice(0,4),r=e.slice(5,7),n=e.slice(8,10),l=e.slice(11,13);return new Date(o,r-1,n,l)},a=c(i[0].time),m=3600*1e3,p=c(f(new Date));const s=[];for(;+a!=+p;)s.push(f(a)),a=new Date(+a+m);const t=new Array(s.length);for(let e=0;e<t.length;e++)t[e]=(()=>{let o={};return d.map((r,n,l)=>{o[r]=0}),o})();for(let e=0;e<t.length;e++){const o=t[e];o.time=s[e]}return console.log(t),i.map((e,o,r)=>{const n=e.time.slice(0,13),l=s.indexOf(n);l==-1?(s.unshift(n),t.unshift(1)):d.map(y=>{t[l][y]=i[o][y]})}),t}v(u,["fcp","lcp","domReady","cls","tti"]);const S=()=>{let i;x(async()=>{await F.normalPost("api/data/webVital",{userId:"aa7385b487e84f28a5e43e7574f4f0aa",deviceId:"e20ca6dd21964f99a7d514bc4c1264e1"}).then(({data:{data:t}})=>{u=t});const s=w(_.value);i={title:{text:"\u9875\u9762\u52A0\u8F7D\u6027\u80FD\u56FE",subtext:"web pref in brower"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(t){var e=t[1];return e.name+"<br/>"+e.seriesName+" : "+e.value}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},yAxis:[{type:"category",splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{align:"right"},position:"left",data:f.reverse()}],xAxis:{type:"value",show:!1},series:[{name:"Placeholder",type:"bar",stack:"Total",itemStyle:{borderColor:"transparent",color:"transparent"},emphasis:{itemStyle:{borderColor:"transparent",color:"transparent"}},data:a.reverse()},{name:"Time Cost",colorBy:"data",type:"bar",stack:"Total",labelLayout:function(){return{x:s.getWidth()*.9,moveOverlap:"shiftY"}},label:{show:!0,formatter:function({data:t}){return`${t}ms`},position:"right",minMargin:2,align:"right"},data:m.reverse()}]},i&&s.setOption(i)});function d(s){const{domReady:t,load:e,firstByte:o,dns:r,tcp:n,ssl:l,ttfb:y,trans:E,domParse:P,res:C}=s;return{dns:r,tcp:n,ssl:l,ttfb:y,trans:E,domParse:P,res:C}}const f=["DNS\u67E5\u8BE2","TCP\u8FDE\u63A5","SSL\u5EFA\u8FDE","\u8BF7\u6C42\u54CD\u5E94","\u5185\u5BB9\u4F20\u8F93","DOM\u89E3\u6790","\u8D44\u6E90\u52A0\u8F7D"],c=d(u[0]),a=[],m=[];a.push(0);let p;for(p in c){const s=Math.round(c[p]);m.push(s),a.push(a[a.length-1]+s)}a.pop()},D=()=>{let i;function d(c){const a=[];return c.forEach(m=>{let{fcp:p,lcp:s,domReady:t,cls:e,tti:o,time:r}=m;p=p.toFixed(2),s=s.toFixed(2),t=t.toFixed(2),e=e.toFixed(2),o=o.toFixed(2),a.push({fcp:p,lcp:s,domReady:t,cls:e,tti:o,time:r})}),a}const f=d(v(u,["fcp","lcp","domReady","cls","tti"]));x(async()=>{await F.normalPost("api/data/webVital",{userId:"aa7385b487e84f28a5e43e7574f4f0aa",deviceId:"e20ca6dd21964f99a7d514bc4c1264e1"}).then(({data:{data:a}})=>{u=a});const c=w(b.value);i={dataZoom:{type:"slider"},legend:{orient:"vertical",right:-40,bottom:100},tooltip:{trigger:"axis"},xAxis:{type:"time",splitLine:{show:!1}},yAxis:{type:"value",min:0,axisLabel:{formatter:"{value} "}},series:[{encode:{x:"time",y:"fcp",seriesName:"fcp"},type:"line",smooth:!0,showSymbol:!1},{encode:{x:"time",y:"lcp",seriesName:"lcp"},type:"line",showSymbol:!1,smooth:!0},{encode:{x:"time",y:"domReady",seriesName:"domReady"},type:"line",showSymbol:!1,smooth:!0},{encode:{x:"time",y:"cls",seriesName:"cls"},type:"line",showSymbol:!1,smooth:!0},{encode:{x:"time",y:"tti",seriesName:"tti"},type:"line",showSymbol:!1,smooth:!0}],dataset:{dimensions:["time","fcp","lcp","domReady","cls","tti"],source:f}},i&&c.setOption(i)})};return S(),D(),(i,d)=>(B(),A("div",I,[h("div",{class:"showproperty",ref_key:"property1",ref:_},"\u7B49\u5F85\u6570\u636E\u52A0\u8F7D",512),h("div",{class:"showproperty",ref_key:"property2",ref:b},"\u7B49\u5F85\u6570\u636E\u52A0\u8F7D",512)]))}});const O={class:"speed"},j={class:"propertyTotal"},V={__name:"Speed",setup(R){return L([{page:"static-c7c3a1d5-1246-4a9b-bae5-a9730f498faf.bspapp.com",active:!0},{page:"127.0.0.1:5500/webgl/save/itaem/index.html",active:!1}]),(u,_)=>(B(),A("div",O,[h("div",j,[T(M)])]))}},K=N(V,[["__scopeId","data-v-d89f72b4"]]);export{K as default};
