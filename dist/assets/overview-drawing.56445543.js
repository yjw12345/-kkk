import{_ as j}from"./_plugin-vue_export-helper.cdc0426e.js";import{u as P,v as N,z as D,o as b,e as I,f as e,t as l,x as u,p as z,k as A,j as B,D as $,h as w}from"./index.d2d58ca2.js";import{X as g}from"./request.1d72398d.js";/* empty css                                                                 */const O=t=>(z("data-v-f9e83676"),t=t(),A(),t),E={class:"container"},L={class:"total"},R={class:"item"},T=O(()=>e("div",{class:"text"},[e("svg",{t:"1660129992728",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2340",width:"5px",height:"5px"},[e("path",{d:"M160 768.64h736a32 32 0 0 1 0 64H100.672V832H96V192a32 32 0 1 1 64 0v576.64z m407.584-61.152l-195.008-126.656-81.728 125.824a32 32 0 1 1-53.664-34.88l100.544-152a32 32 0 0 1 44.096-9.184l193.92 125.856 188.48-290.304a32 32 0 0 1 53.696 34.88l-206.08 317.056a32 32 0 0 1-44.256 9.376z",fill:"#ffce03","p-id":"2341"})]),B("\u603BPV ")],-1)),X={class:"num"},C={class:"item"},F=O(()=>e("div",{class:"text"},[e("svg",{t:"1660129992728",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2340",width:"20px",height:"20px"},[e("path",{d:"M160 768.64h736a32 32 0 0 1 0 64H100.672V832H96V192a32 32 0 1 1 64 0v576.64z m407.584-61.152l-195.008-126.656-81.728 125.824a32 32 0 1 1-53.664-34.88l100.544-152a32 32 0 0 1 44.096-9.184l193.92 125.856 188.48-290.304a32 32 0 0 1 53.696 34.88l-206.08 317.056a32 32 0 0 1-44.256 9.376z",fill:"#00c1de","p-id":"2341"})]),B("\u603BUV ")],-1)),Y={class:"num"},Z={__name:"property",setup(t){function a(h){function m(s){let _=s.getFullYear(),i=s.getMonth(),f=s.getDate(),v=s.getHours();return s.getMinutes(),s.getSeconds(),i<10&&(i="0"+(i+1)),f<10&&(f="0"+f),v<10&&(v="0"+v),_+"-"+i+"-"+f+" "+v}let c=s=>{let _=s.slice(0,4),i=s.slice(5,7),f=s.slice(8,10),v=s.slice(11,13);return new Date(_,i-1,f,v)},n=c(h[0].time),U=3600*1e3,k=c(m(new Date));const x=[];for(;+n!=+k;)x.push(m(n)),n=new Date(+n+U);const V=new Array(x.length).fill(0);for(const s of h){const _=s.time.slice(0,13),i=x.indexOf(_);i==-1?(x.unshift(_),V.unshift(1)):V[i]++}return{countary:V,dateary:x}}const r=P(null);let d,y,o,p=P(0),S=P(0);return N(async()=>{await g.normalPost("api/data/pv",{userId:"aa7385b487e84f28a5e43e7574f4f0aa",deviceId:"e20ca6dd21964f99a7d514bc4c1264e1"}).then(({data:{data:c}})=>{let n=a(c);d=n.dateary,y=n.countary,p.value=c.length}),await g.normalPost("api/data/uv",{userId:"aa7385b487e84f28a5e43e7574f4f0aa",deviceId:"e20ca6dd21964f99a7d514bc4c1264e1"}).then(({data:{data:c}})=>{let n=a(c);d=n.dateary,o=n.countary,S.value=c.length});let h={dataZoom:{type:"slider"},dataset:{dimensions:["time","PV","UV"],source:{time:d,PV:y,UV:o}},color:["#ffce03","#00c1de"],legend:{},tooltip:{trigger:"axis"},xAxis:{type:"time",splitNumber:5,splitLine:{show:!1}},yAxis:{type:"value",min:0,axisLabel:{formatter:"{value} "}},series:[{encode:{x:"time",y:"PV",seriesName:"PV"},type:"line",smooth:!0,showSymbol:!1},{encode:{x:"time",y:"UV",seriesName:"UV"},type:"line",showSymbol:!1,smooth:!0}]};var m=D(r.value);m.setOption(h)}),(h,m)=>(b(),I("div",E,[e("div",L,[e("div",R,[T,e("div",X,l(u(p)),1)]),e("div",C,[F,e("div",Y,l(u(S)),1)])]),e("div",{id:"main",ref_key:"main",ref:r},null,512)]))}},q=j(Z,[["__scopeId","data-v-f9e83676"]]);const G=t=>(z("data-v-5903f626"),t=t(),A(),t),J={class:"overview"},K={class:"container"},Q={class:"show"},W={class:"num"},ee={class:"text"},te=G(()=>e("div",{class:"line"},null,-1)),se={class:"show"},ae={class:"num"},oe={class:"text"},ne={__name:"overview",props:["infor"],setup(t){const{infor:a}=t;return console.log(a),(r,d)=>(b(),I("div",J,[e("div",K,[e("div",Q,[e("span",W,l(t.infor.num),1),e("span",ee,l(t.infor.text1),1)]),te,e("div",se,[e("span",ae,l(t.infor.percentage),1),e("span",oe,l(t.infor.text2),1)])])]))}},H=j(ne,[["__scopeId","data-v-5903f626"]]);const ie={class:"overview"},ce={class:"container"},le={class:"show"},re={class:"num"},de={class:"text"},_e={__name:"overview2",props:["infor"],setup(t){const{infor:a}=t;return console.log(a),(r,d)=>(b(),I("div",ie,[e("div",ce,[e("div",le,[e("span",re,l(t.infor.num),1),e("span",de,l(t.infor.text1),1)])])]))}},M=j(_e,[["__scopeId","data-v-f5291d0a"]]);const fe={class:"overview-drawing"},ve={class:"left"},ue={class:"right"},ge={__name:"overview-drawing",setup(t){let a=$({num:"1",percentage:"100%",text1:"js\u9519\u8BEF\u6570",text2:"js\u9519\u8BEF\u767E\u5206\u6BD4"}),r=$({num:"0",percentage:"100%",text1:"API\u9519\u8BEF\u6570",text2:"API\u9519\u8BEF\u767E\u5206\u6BD4"}),d=$({num:"40ms",text1:"\u9996\u6B21\u6E32\u67D3\u65F6\u95F4"}),y=$({num:"0",text1:"\u8D44\u6E90\u9519\u8BEF\u6570"});return N(()=>{g.normalPost("api/data/err",{userId:"aa7385b487e84f28a5e43e7574f4f0aa",deviceId:"e20ca6dd21964f99a7d514bc4c1264e1"}).then(({data:{data:o}})=>{a.num=o.length}),g.normalPost("api/data/pv",{userId:"aa7385b487e84f28a5e43e7574f4f0aa",deviceId:"e20ca6dd21964f99a7d514bc4c1264e1"}).then(({data:{data:o}})=>{let p=a.num/o.length;a.percentage=Math.round(p*100)+"%"}),g.normalPost("api/data/apiErrRate",{userId:"aa7385b487e84f28a5e43e7574f4f0aa",deviceId:"e20ca6dd21964f99a7d514bc4c1264e1",api:""}).then(({data:{data:o}})=>{console.log(o),r.percentage=o*100+"%"})}),(o,p)=>(b(),I("div",fe,[e("div",ve,[w(H,{infor:u(a)},null,8,["infor"]),w(H,{infor:u(r)},null,8,["infor"])]),w(q),e("div",ue,[w(M,{infor:u(d)},null,8,["infor"]),w(M,{infor:u(y)},null,8,["infor"])])]))}};export{ge as default};
